sudo: false
dist: xenial
language: python
python:
  - '3.6'
  - '3.7'
install:
  - python setup.py install
script:
  - python setup.py test
notifications:
  email:
    on_success: never
    on_failure: change
before_deploy:
  - if ! [[ $TRAVIS_TAG ]]; then
    export TRAVIS_TAG=$(cat VERSION) &&
    git config --local user.name "$USER_NAME" &&
    git config --local user.email "$USER_EMAIL" &&
    git tag "$TRAVIS_TAG" "$TRAVIS_COMMIT";
    fi
deploy:
  - provider: pypi
    user: ilyachch
    password:
      secure: vWlr6bANondjULFZGqE1LZ0w/HM+72OIsTWPcvigyimtPiWwwvwVn6lDDhUKQr32AywF7BivIsCcUjtTqNuCTWN3xJx2InaoS9rlYljdqkHWxHqrkmn59Wuhx7FRQ/QeG6MLvt2KqKu8How/o6mhadhwwj9fyvMh7mqj/o2mZqfO/AbU5aN0HUGvD3MIG4XXUD2h8WHoWv8YfPDceCBz3XwiB+MtK/Hzi94jVyjr0RFj9S+qDv0NnPvyu9Lp1//Jb526e/OrUAKHYl6zF2q6jhHRTQ2P0OmizUEoALlKyQfHDMwMcDeyMJh5ts6/MziKitZydYnQwo84PmynfYth9uEHhXSEkV9zsHrkpLO+RejUH0iVo59yp9Ta2HxT9XfFVC0nF4XqiUmFK+oFeAJoqScTZ4qwEXxlV8HB2IyU1S01auae2d4udxldYtC1aPlHGDPvesV1D/QW7Gm+LrkTKZQfv3OWFMr3ghMcirzorSR+2+o9mpdrKWZFMo2CPqQTP4bUyrZfYEZilN4k1xhRKFhMJcAcGaNFYbyFsm7LEtDZ4kYbLSlBYb7etrzTMh9Jst4Sm+8L8Xf8m4+LBF4i1HwQhvowTbaEWUI1R9sVQTN1DqURSsQv2hee1Nz+7u7YogWqvErA290uBqiGCT3jKEIlDOcfeJ8eblLcQ+li6po=
    distributions: sdist bdist_wheel
    skip_cleanup: true
    skip_existing: true
    on:
      repo: ilyachch/md_docs-trans-app
      branch: master
      python: '3.6'
  - provider: releases
    skip_cleanup: true
    api_key:
      secure: V+JkksVigjBWg5L6d/+a38yB1zZltft0/cKyjwkTjU0qYsOep8OAW4NIfXUgoCKwOES6H8yzndUz540lghuw3V5G28xw/MFg18eOMJGXQe//Qm4x9KOUCA9qtgQzNxnwt0LgQo9pfa+5MIWw6L93SONTO7e+P5QjNk9OFMK6qt3NXzKp99QiJm9areYHOljWNb6JJ4PMKNRiWdc/vbCFZgjadiaRQD9UhV+sDcPaNaQi9oI/OXgMAN6qhyYaNRF+QxG8uc0KUof1wy2YbDG8nwuZMI+wx+zJWVQeD7wtdYgO56otMRBNzQJa7j/iyvAXne1f4/0eMJf6LkmRmmk8a6lhHR0sD1W3ixXZ4yEyjmcoa6Yc4W/KH5HfGdgnyPiNTuTcFokI3uKFlvw9j68YJnuRiHSM8KeDneZ96OW0mS8ZhzqTjgmQgYR+aiCt/kDVdD9DLVQMjqpYK5HF8PwkdTCqeWi5WhbLUOUagXWQU6Tc39K5ttgKm/X46fJWr4E3TtCm4M4I/ECWJKt3dfH064yfw7F9xA73DMG7QOmbvVpYo7BsQkCGfrWR10qfSJmbQwDSCELGn0xca8prGI9+iGxA+GXMjmztnr2xlRXAf0zBEVYbLMSmNJaNcvClEMRRoK/ECCWl7XgM0TmLzdyt1AVrX8rmQ7cluF5N6shTBQU=
    file:
      - dist/*.whl
      - dist/*.tar.gz
    on:
      repo: ilyachch/md_docs-trans-app
      branch: master
      python: '3.6'
